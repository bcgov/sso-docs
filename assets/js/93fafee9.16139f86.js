"use strict";(self.webpackChunksso_docs=self.webpackChunksso_docs||[]).push([[6521],{5680:(e,t,i)=>{i.d(t,{xA:()=>c,yg:()=>y});var r=i(6540);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var s=r.createContext({}),d=function(e){var t=r.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},c=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var i=e.components,n=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(i),u=n,y=p["".concat(s,".").concat(u)]||p[u]||m[u]||a;return i?r.createElement(y,o(o({ref:t},c),{},{components:i})):r.createElement(y,o({ref:t},c))}));function y(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=i.length,o=new Array(a);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:n,o[1]=l;for(var d=2;d<a;d++)o[d]=i[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,i)}u.displayName="MDXCreateElement"},2056:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var r=i(8168),n=(i(6540),i(5680));const a={sidebar_position:4},o="Redirects",l={unversionedId:"integrating-your-application/redirects",id:"integrating-your-application/redirects",title:"Redirects",description:"--- Learn what Redirect URI(s) are and why they are required in OIDC.",source:"@site/docs/integrating-your-application/redirects.md",sourceDirName:"integrating-your-application",slug:"/integrating-your-application/redirects",permalink:"/sso-docs/integrating-your-application/redirects",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Usecases",permalink:"/sso-docs/integrating-your-application/usecases-scenarios"},next:{title:"Client setup without an adapter",permalink:"/sso-docs/integrating-your-application/settingup-no-adapter"}},s={},d=[{value:"What is a redirect?",id:"what-is-a-redirect",level:2},{value:"Specifying redirect URIs are important",id:"specifying-redirect-uris-are-important",level:3},{value:"Mininum redirects",id:"mininum-redirects",level:3},{value:"Wildcards and Web Origins",id:"wildcards-and-web-origins",level:3},{value:"Valid Redirect Format",id:"valid-redirect-format",level:3}],c={toc:d},p="wrapper";function m(e){let{components:t,...i}=e;return(0,n.yg)(p,(0,r.A)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"redirects"},"Redirects"),(0,n.yg)("p",null,"--- Learn what Redirect URI(s) are and why they are required in OIDC."),(0,n.yg)("h2",{id:"what-is-a-redirect"},"What is a redirect?"),(0,n.yg)("p",null,"Redirect URI(s) is a required field to enable standard OpenID Connect redirect based authentication with authorization code. In terms of OpenID Connect or OAuth2 specifications, this enables support of 'Authorization Code Flow' for this client."),(0,n.yg)("h3",{id:"specifying-redirect-uris-are-important"},"Specifying redirect URIs are important"),(0,n.yg)("p",null,"It is important to register redirect URIs as specifically as possible to prevents bad guys from accessing your client and obtaining your users' information."),(0,n.yg)("p",null,"Please see ",(0,n.yg)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/server_admin/index.html#unspecific-redirect-uris_server_administration_guide"},"here")," for more detail."),(0,n.yg)("h3",{id:"mininum-redirects"},"Mininum redirects"),(0,n.yg)("p",null,"You can use any valid URI for your redirect URIs. At least one redirect URI is required for each or DEV, TEST and PROD. If you don't know the redirect URI for one or more of these environments, you may provide any valid URI for now and change it later. We suggest something like 'http://localhost:1000'"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"For local dev environment, localhost URIs can be used, i.e. http://localhost:3000/","*")),(0,n.yg)("h3",{id:"wildcards-and-web-origins"},"Wildcards and Web Origins"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Wildcards (",(0,n.yg)("em",{parentName:"li"},") are commonly used to allow dynamical redirect URIs and can be added at the end of a URI only, i.e. ",(0,n.yg)("a",{parentName:"em",href:"http://host.com/"},"http://host.com/"))),(0,n.yg)("li",{parentName:"ul"},"Web Origins - The redirect URIs will be copied over to Keycloak Web Origins setup. In addition, adding \u2018+\u2019 to permit all origins of Valid Redirect URIs")),(0,n.yg)("h3",{id:"valid-redirect-format"},"Valid Redirect Format"),(0,n.yg)("p",null,"Redirect URIs are commonly used in a http(s) scheme (",(0,n.yg)("inlineCode",{parentName:"p"},"http(s)://"),") or custom scheme (",(0,n.yg)("inlineCode",{parentName:"p"},"scheme://path"),"). The allowed URI syntax consists of:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"Scheme"),": the following rules must be met:",(0,n.yg)("ol",{parentName:"li"},(0,n.yg)("li",{parentName:"ol"},"Must be greater than one character."),(0,n.yg)("li",{parentName:"ol"},"Must start with an alphabet character followed by optional characters (",(0,n.yg)("inlineCode",{parentName:"li"},"alphabets"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"hyphens(-)"),", and ",(0,n.yg)("inlineCode",{parentName:"li"},"periods(.)"),")."))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"Path"),": a minimum of one character is required except for ",(0,n.yg)("inlineCode",{parentName:"li"},"white spaces")," and ",(0,n.yg)("inlineCode",{parentName:"li"},"#"),"."),(0,n.yg)("li",{parentName:"ul"},"Notes on the wildcard character ",(0,n.yg)("inlineCode",{parentName:"li"},"*"),":",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"In the HTTP(S) scheme (",(0,n.yg)("inlineCode",{parentName:"li"},"http(s)://"),"):",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Wildcard (","*",") is allowed in dev and test environments to satisfy the various development processes."),(0,n.yg)("li",{parentName:"ul"},"This is is not allowed in prod environments."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Examples of valid redirects"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"https://www.example.com/path*")," would be valid, but ",(0,n.yg)("inlineCode",{parentName:"li"},"https://www.example*.com")," would not. The wildcard character ",(0,n.yg)("inlineCode",{parentName:"li"},"*")," is not permitted in the domain or subdomain part of a redirect URI. However, it can be used within the path of the URI. Essentially, any valid domain or subdomain can be used as long as they don't include a wildcard."))),(0,n.yg)("li",{parentName:"ul"},"In custom schemes (",(0,n.yg)("inlineCode",{parentName:"li"},"scheme://path"),"):",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"If an application client is using non http(s) custom schemes, the validation now requires that a valid redirect pattern explicitly allows that scheme."),(0,n.yg)("li",{parentName:"ul"},"Example patterns for allowing custom schemes are ",(0,n.yg)("inlineCode",{parentName:"li"},"custom:/test"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"custom:/test/"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"custom:"),", or ",(0,n.yg)("inlineCode",{parentName:"li"},"custom:/test/*"),"."),(0,n.yg)("li",{parentName:"ul"},"For security reasons, a general pattern such as wildcard ",(0,n.yg)("inlineCode",{parentName:"li"},"*")," is no longer supported by keycloak. See more ",(0,n.yg)("a",{parentName:"li",href:"https://access.redhat.com/documentation/it-it/red_hat_build_of_keycloak/22.0/html/migration_guide/migrating-applications#changes_in_validating_schemes_for_valid_redirect_uris"},"here"),"."))))),(0,n.yg)("li",{parentName:"ul"},"The wildcard ",(0,n.yg)("inlineCode",{parentName:"li"},"*")," is allowed to be added to the path, however, this is not recommended in prod environments.")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"We made an exception to allow wildcard (","*",") in the dev, and test environments to satisfy the various development processes.")))}m.isMDXComponent=!0}}]);